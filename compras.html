<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compra</title>
    <link rel="icon" href="img/iconoURL3.png" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script src="https://sdk.mercadopago.com/js/v2"></script>

</head>

<body style="background-image: none; background-color: rgb(228, 241, 252);">
    <!-- Navbar -->
    <nav class="navbar navbar-dark bg-dark sticky-top">
        <div class="container-fluid">
            <!-- Boton para expandir el nav -->
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- menu despegable-->
            <div class="offcanvas offcanvas-start bg-dark text-white" tabindex="-1" id="offcanvasNavbar"
                aria-labelledby="offcanvasNavbarLabel">
                <!-- Cabecera del nav cuando expandimos -->
                <div class="offcanvas-header">
                    <!-- Titulo -->
                    <h5 class="offcanvas-title text-uppercase" id="offcanvasNavbarLabel"
                        style="font-family: Lobster;font-size: 2.1em;">Suspicacias</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                        aria-label="Close"></button>
                </div>
                <!-- Todo el contenido que vamos a tener en el offcanvas -->
                <div class="offcanvas-body">
                    <!-- Una lista para los items que vamos a tener en el offcanvas -->
                    <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                        <li class="nav-item">
                            <a class="nav-link active text-uppercase" aria-current="page"href="jugueteYAccesorios.html#Descuentos">¡OFERTAS!</a> 
                        </li>

                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-uppercase" href="#" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                CATEGORIAS
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#ANAL">Anal</a></li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#ANILLOS">Anillos</a></li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#KEGEL">Bolas
                                        Chinas</a></li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#DILDOS">Dildos</a></li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#DUCHAS">Duchas</a></li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#DISFRACES">Disfraz</a></li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#FETICHE">Fetiche</a></li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#FUNDAS">Fundas</a></li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#JUEGOS">Juegos</a></li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#LUBRICANTES">Lubricantes</a>
                                </li>
                                <li><a class="dropdown-item"
                                        href="/jugueteYAccesorios.html#LIMPIADORES-DE-JUGUETES">Limpiadores de
                                        juguetes</a>
                                </li>
                                <li><a class="dropdown-item"
                                        href="/jugueteYAccesorios.html#PRESERVATIVOS">Preservativos</a>
                                </li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#VELAS">Velas</a></li>
                                <li><a class="dropdown-item" href="/jugueteYAccesorios.html#VIBRADORES">Vibradores</a>
                                </li>
                                <li><a class="dropdown-item"
                                        href="/jugueteYAccesorios.html#SUCCIONADORES">Succionadores</a>
                                </li>

                            </ul>
                        </li>

                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-uppercase" href="" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                Contacto
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item"
                                        href="https://www.instagram.com/suspicacias.s3xshop/">Instagram
                                        <i class="bi bi-instagram"></i></a></li>
                                <li><a class="dropdown-item"
                                        href="https://www.facebook.com/profile.php?id=100093064702085">Facebook
                                        <i class="bi bi-facebook"></i></a></li>
                                <li><a class="dropdown-item" href="https://wa.link/rgb5ni">Whatsapp <i
                                            class="bi bi-whatsapp"></i></a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-uppercase" aria-current="page" href="ventaMayorista.html">ventas
                                mayoristas</a>
                        </li>
                    </ul>
                    <!-- El form para nuestro boton de busqueda -->
                    <form action="busqueda.html" method="get">
                        <input type="text" name="query" placeholder="Buscar productos...">
                        <button class="btn btn-secondary" type="submit">Buscar</button>
                    </form>
                </div>
            </div>
            <!-- El titulo que va en el centro del navbar -->
            <a class="navbar-brand" href="index.html" style="font-family: Lobster;font-size: 2.2em;">Suspicacias</a>


            <!-- Carrito de compra (BOTON)-->
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#carritoContainer"
                aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                <i class="bi bi-cart text-white" style="font-size: 1.65em;"></i>
            </button>

            <!-- Carrito de compra card -->
            <div class="offcanvas offcanvas-end bg-dark text-white" tabindex="-1" aria-labelledby="offcanvasNavbarLabel"
                id="carritoContainer">
                <!-- Agregamos el header del carrito -->
                <div class="offcanvas-header">
                    <!-- Titulo -->
                    <h5 class="offcanvas-title text-uppercase" id="offcanvasNavbarLabel">Carrito</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
                        style="font-size: 2rem;"></button>
                </div>
                <!-- Agregamos el cuerpo del carrito -->
                <div class="offcanvas-body">

                    <!-- Contenedor del carrito de compras -->
                    <div id="carritoContent">
                        <!-- Aquí se mostrarán los productos agregados al carrito -->
                    </div>

                    <div class="d-grid gap-2 carritoContent">
                        <p>Envio: Se calcula en el siguiente paso</p>
                        <p>SUBTOTAL: <span id="totalAmount">0.00</span></p>
                        <!-- Modifica el botón "Realizar compra" para almacenar los productos en el LocalStorage -->
                        <button type="button" class="btn btn-success btn-lg" style="text-align: center;"
                            onclick="realizarCompra();">
                            Iniciar compra
                        </button>
                        <script>
                            // Función para realizar la compra
                            function realizarCompra() {
                                // Guarda el carrito en el LocalStorage
                                localStorage.setItem('carrito', JSON.stringify(carritoProductos));
                                // Abre la página de compras.html
                                window.location.href = 'compras.html';
                            }
                        </script>

                    </div>
                </div>

            </div>

        </div>
    </nav>

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1 style="text-align: center; margin-top: 8%; font-weight: 700;">Datos del destinatario</h1>
                <form action="https://formsubmit.co/suspicaciasbrasil805@gmail.com" method="POST">
                    <div class="form-group" style="margin-top: 3%;">
                        <label for="nombre">Nombre:</label>
                        <input type="text" class="form-control" id="nombre" name="nombre"
                            placeholder="Ingrese su nombre">
                    </div>
                    <div class="form-group" style="margin-top: 2%;">
                        <label for="apellido">Apellido:</label>
                        <input type="text" class="form-control" id="apellido" name="apellido"
                            placeholder="Ingrese su apellido">
                    </div>
                    <div class="form-group" style="margin-top: 2%;">
                        <label for="telefono">Teléfono:</label>
                        <input type="text" class="form-control" id="telefono" name="telefono"
                            placeholder="Ingrese su teléfono">
                    </div>
                    <div class="form-group" style="margin-top: 2%;">
                        <label for="correo">Correo:</label>
                        <input type="text" class="form-control" id="correo" name="correo" placeholder="Email">
                    </div>
                    <hr>
                    <h1 style="text-align: center; margin-top: 6%; font-weight: 700;">Domicilio del destinatario</h1>
                    <div class="form-group" style="margin-top: 3%;">
                        <label for="calle">Calle:</label>
                        <input type="text" class="form-control" id="calle" name="calle" placeholder="Calle">
                    </div>
                    <div class="form-group" style="margin-top: 2%;">
                        <label for="numero">Número:</label>
                        <input type="text" class="form-control" id="numero" name="numero" placeholder="Número">
                    </div>
                    <div class="form-group" style="margin-top: 2%; margin-bottom: 4%;">
                        <label for="barrio">Barrio:</label>
                        <input type="text" class="form-control" id="barrio" name="barrio" placeholder="Barrio">
                    </div>

                    <style>
                        /* Estilo para limitar la altura máxima del menú desplegable */
                        select[name="provincia"] {
                            max-height: 200px;
                            /* Ajusta este valor según tu preferencia */
                            overflow-y: auto;
                            /* Habilita el scroll si la lista es larga */
                        }
                    </style>
                    
                    <div class="form-group" style="margin-top: 2%; margin-bottom: 4%;">
                        <label for="provincia">Provincia:</label>
                        <select class="form-control" id="provincia" name="provincia">
                            <option value="" disabled selected style="display: none;">Selecciona una provincia</option>
                            <option value="Buenos Aires">Buenos Aires</option>
                            <option value="Catamarca">Catamarca</option>
                            <option value="Chaco">Chaco</option>
                            <option value="Chubut">Chubut</option>
                            <option value="Córdoba">Córdoba</option>
                            <option value="Corrientes">Corrientes</option>
                            <option value="Entre Ríos">Entre Ríos</option>
                            <option value="Formosa">Formosa</option>
                            <option value="Jujuy">Jujuy</option>
                            <option value="La Pampa">La Pampa</option>
                            <option value="La Rioja">La Rioja</option>
                            <option value="Mendoza">Mendoza</option>
                            <option value="Misiones">Misiones</option>
                            <option value="Neuquén">Neuquén</option>
                            <option value="Río Negro">Río Negro</option>
                            <option value="Salta">Salta</option>
                            <option value="San Juan">San Juan</option>
                            <option value="San Luis">San Luis</option>
                            <option value="Santa Cruz">Santa Cruz</option>
                            <option value="Santa Fe">Santa Fe</option>
                            <option value="Santiago del Estero">Santiago del Estero</option>
                            <option value="Tierra del Fuego">Tierra del Fuego</option>
                            <option value="Tucumán">Tucumán</option>
                        </select>
                    </div>

                    <div class="form-group" style="margin-top: 2%; margin-bottom: 4%;">
                        <label for="ciudad">Ciudad:</label>
                        <select class="form-control" id="ciudad" name="ciudad">
                            <!-- Las opciones de las ciudades se llenarán dinámicamente -->
                        </select>
                    </div>

                    <div class="form-group" style="margin-top: 2%; margin-bottom: 4%;">
                        <label for="codigoPostal">Código Postal:</label>
                        <input type="text" class="form-control" id="codigoPostal" name="codigoPostal" placeholder="Código Postal">
                    </div>
                    <hr>

                    <div class="opciones-entrega" style="display: none;"> </div>

                    
                    <p id="">SUBTOTAL: <span id="subtotalDisplay">0.00</span></p>
                    <p id="">ENVIO: <span id="envioDisplay">0.00</span></p>
                    <p id="totalStyle">TOTAL: <span id="totalDisplay">0.00</span></p>
                    <hr>
                    <button class="btn btn-primary custom-btn" type="submit" name="enviar" id="checkout-btn">
                        CONTINUAR CON EL PAGO
                    </button>

                    <script>
                        const envioSeleccionado = document.querySelector('#envioDisplay');
                        const opcionesEntrega = document.querySelector('.opciones-entrega');
                        const provinciaSelect = document.getElementById('provincia');
                                                const totalDisplay = document.getElementById('subtotalDisplay'); // Cambié el ID a "totalDisplay" para evitar IDs duplicados


                        const provinciasConCiudades = {
                            'Buenos Aires': [
                                'Adrogué', 'Avellaneda', 'Azul', 'Bahía Blanca', 'Banfield', 'Baradero',
                                'Berazategui', 'Berisso', 'Campana', 'Cañuelas', 'Chascomús', 'Chivilcoy',
                                'Dolores', 'Ensenada', 'Escobar', 'Ezeiza', 'Florencio Varela', 'General Pueyrredón',
                                'General Rodríguez', 'Junín', 'La Matanza', 'La Plata', 'Lobos', 'Luján',
                                'Mar del Plata', 'Mercedes', 'Merlo', 'Miramar', 'Morón', 'Necochea',
                                'Olavarría', 'Pergamino', 'Presidente Perón', 'Quilmes', 'San Fernando', 'San Isidro',
                                'San Nicolás de los Arroyos', 'San Pedro', 'San Vicente', 'Tandil', 'Tigre',
                                'Tres Arroyos', 'Villa Gesell'
                            ],
                            'Catamarca': [
                                'Ancasti', 'Andalgalá', 'Antofagasta de la Sierra', 'Belén', 'Capayán', 'El Rodeo',
                                'Fiambalá', 'La Puerta', 'Pomán', 'San Fernando del Valle de Catamarca', 'Santa María',
                                'Saujil', 'Tinogasta', 'Valle Viejo'
                            ],
                            'Córdoba': [
                                'Alta Gracia', 'Bell Ville', 'Córdoba', 'Cosquín', 'Deán Funes', 'Embalse',
                                'Jesús María', 'La Carlota', 'Laboulaye', 'Las Varillas', 'Mina Clavero',
                                'Río Cuarto', 'Río Tercero', 'San Francisco', 'Villa Carlos Paz', 'Villa Dolores',
                                'Villa General Belgrano', 'Villa María', 'Villa Rumipal', 'Villa del Rosario'
                            ],
                            'Chaco': [
                                'Barranqueras', 'Campo Largo', 'Charata', 'General José de San Martín', 'General Pinedo',
                                'Las Breñas', 'Machagai', 'Presidencia Roque Sáenz Peña', 'Quitilipi', 'Resistencia',
                                'Tres Isletas', 'Villa Ángela', 'Villa Berthet', 'Villa Río Bermejito'
                            ],
                            'Chubut': [
                                'Biedma', 'Cushamen', 'Escalante', 'Futaleufú', 'Gaiman', 'Gastre',
                                'Languiñeo', 'Mártires', 'Paso de Indios', 'Rawson', 'Río Senguer',
                                'Sarmiento', 'Tehuelches', 'Telsen', 'Viedma'
                            ],
                            'Corrientes': [
                                'Bella Vista', 'Berón de Astrada', 'Capital', 'Concepción', 'Curuzú Cuatiá',
                                'Empedrado', 'Esquina', 'General Alvear', 'General Paz', 'Goya', 'Itatí',
                                'Ituzaingó', 'Lavalle', 'Mburucuyá', 'Mercedes', 'Monte Caseros',
                                'Paso de los Libres', 'Saladas', 'San Cosme', 'San Luis del Palmar',
                                'San Martín', 'San Miguel', 'San Roque', 'Santa Ana', 'Santo Tomé',
                                'Sauce', 'Sauce', 'Yapeyú'
                            ],
                            'Entre Ríos': [
                                'Colón', 'Concordia', 'Diamante', 'Federación', 'Federal', 'Gualeguay', 'Gualeguaychú',
                                'Islas del Ibicuy', 'La Paz', 'Nogoyá', 'Paraná', 'San Salvador', 'Tala', 'Uruguay',
                                'Villaguay', 'Victoria', 'Villaguay'
                            ],
                            'Formosa': [
                                'Bermejo', 'Formosa', 'Laishí', 'Matacos', 'Patiño', 'Pilcomayo', 'Pilagás',
                                'Pilcomayo', 'Pirané', 'Pozo del Tigre', 'Rancho El Ñato', 'Riacho He He',
                                'San Martín', 'Siete Palmas'
                            ],
                            'Jujuy': [
                                'Cochinoca', 'Doctor Manuel Belgrano', 'El Carmen', 'Humahuaca', 'Ledesma',
                                'Palpalá', 'Rinconada', 'San Antonio', 'San Pedro', 'Santa Bárbara', 'Santa Catalina',
                                'Susques', 'Tilcara', 'Tumbaya', 'Valle Grande', 'Yavi'
                            ],
                            'La Pampa': [
                                'Atreuco', 'Caleu Caleu', 'Capital', 'Catriló', 'Chalileo', 'Chapaleufú', 'Chical Co',
                                'Conhelo', 'Curacó', 'Guatraché', 'Hucal', 'Lihuel Calel', 'Limay Mahuida',
                                'Loventué', 'Maracó', 'Puelén', 'Quemú Quemú', 'Rancul', 'Realicó', 'Toay', 'Trenel',
                                'Utracán'
                            ],
                            'La Rioja': [
                                'Arauco', 'Capital', 'Castro Barros', 'Chilecito', 'Famatina', 'General Lamadrid',
                                'General Ocampo', 'General San Martín', 'Independencia', 'Rosario Vera Peñaloza',
                                'San Blas de los Sauces', 'Sanagasta', 'Vinchina'
                            ],
                            'Mendoza': [
                                'Capital', 'General Alvear', 'Godoy Cruz', 'Guaymallén', 'Junín', 'La Paz', 'Las Heras',
                                'Lavalle', 'Luján de Cuyo', 'Maipú', 'Malargüe', 'Rivadavia', 'San Carlos', 'San Martín',
                                'San Rafael', 'Santa Rosa', 'Tunuyán', 'Tupungato'
                            ],
                            'Misiones': [
                                'Apóstoles', 'Cainguás', 'Candelaria', 'Capital (Posadas)', 'Concepción', 'Eldorado', 'General Manuel Belgrano',
                                'Guaraní', 'Leandro N. Alem', 'Libertador General San Martín', 'Montecarlo', 'Oberá', 'San Ignacio',
                                'San Javier', 'San Pedro', 'Veinticinco de Mayo'
                            ],
                            'Neuquén': [
                                'Aluminé', 'Añelo', 'Catán Lil', 'Chos Malal', 'Collón Curá', 'Confluencia', 'Huiliches',
                                'Lácar', 'Loncopué', 'Los Lagos', 'Minas', 'Ñorquín', 'Picunches', 'Picún Leufú', 'Pehuenches',
                                'Picún Leufú', 'Zapala'
                            ],
                            'Río Negro': [
                                '9 de Julio', 'Adolfo Alsina', 'Avellaneda', 'Bariloche', 'Conesa', 'El Cuy', 'General Roca',
                                'Nueve de Julio', 'Ñorquinco', 'Pichi Mahuida', 'Pilcaniyeu', 'San Antonio', 'Valcheta',
                                'Veinticinco de Mayo'
                            ],
                            'Salta': [
                                'Anta', 'Cachi', 'Cafayate', 'Capital', 'Cerrillos', 'Chicoana', 'General Güemes', 'Güachipas',
                                'Iruya', 'La Caldera', 'La Candelaria', 'La Poma', 'La Viña', 'Los Andes', 'Metán',
                                'Molinos', 'Orán', 'Rivadavia', 'Rosario de la Frontera', 'Rosario de Lerma', 'San Carlos',
                                'Santa Victoria'
                            ],
                            'San Juan': [
                                'Albardón', 'Angaco', 'Calingasta', 'Capital', 'Chimbas', 'Iglesia', 'Jáchal', 'Pocito',
                                'Rawson', 'Rivadavia', 'San Martín', 'Santa Lucía', 'Sarmiento', 'Ullum', 'Valle Fértil',
                                'Veinticinco de Mayo', 'Zonda'
                            ],
                            'San Luis': [
                                'Ayacucho', 'Belgrano', 'Chacabuco', 'Coronel Pringles', 'General Pedernera', 'Gobernador Dupuy',
                                'Junín', 'La Capital', 'Libertador General San Martín', 'Libertador General San Martín',
                                'Libertador General San Martín', 'Libertador General San Martín', 'Pueyrredón', 'San Martín', 'Victoria'
                            ],
                            'Santa Cruz': [
                                'Corpen Aike', 'Deseado', 'Güer Aike', 'Lago Argentino', 'Lago Buenos Aires', 'Magallanes', 'Río Chico',
                            ],
                            'Santa Fe': [
                                '9 de Julio', 'Belgrano', 'Caseros', 'Castellanos', 'Constitución', 'Garay', 'General López',
                                'General Obligado', 'Iriondo', 'La Capital', 'Las Colonias', 'Rosario', 'San Cristóbal',
                                'San Javier', 'San Jerónimo', 'San Justo', 'San Lorenzo', 'San Martín', 'Vera'
                            ],
                            'Santiago del Estero': [
                                'Aguirre', 'Alberdi', 'Atamisqui', 'Avellaneda', 'Banda', 'Belgrano', 'Capital', 'Choya',
                                'Copo', 'Figueroa', 'General Taboada', 'Guasayán', 'Jiménez', 'Juan Felipe Ibarra', 'Loreto',
                                'Mitre', 'Moreno', 'Ojo de Agua', 'Pellegrini', 'Quebrachos', 'Río Hondo', 'Rivadavia',
                                'Robles', 'Salavina', 'San Martín', 'Silípica', 'Sarmiento', 'Taboada', 'Tereñak'
                            ],
                            'Tierra del Fuego': [
                                'Islas del Atlántico Sur', 'Ushuaia', 'Río Grande'
                            ],
                            'Tucumán': [
                                'Burruyacú', 'Capital', 'Chicligasta', 'Famaillá', 'Graneros', 'Juan Bautista Alberdi', 'La Cocha',
                                'Leales', 'Lules', 'Monteros', 'Río Chico', 'Simoca', 'Tafí del Valle', 'Tafí Viejo', 'Trancas',
                                'Yerba Buena'
                            ],
                            // Agrega más provincias y sus ciudades aquí
                        };
                            const opcionesEntregaCorrientes = `
                                <div class="opciones-entrega-corrientes opciones-entrega">
                                    
                                    <div style="padding-right: 5%;">
                                        <h2 style="text-align: center; margin-top: 4%; font-weight: 700;">Entrega</h2>
                                        <p class="bi-geo-alt-fill">Envío a domicilio</p>
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="opcion3Corrientes" name="entrega" value="5,800">
                                            <label class="form-check-label d-flex justify-content-between" for="opcion3Corrientes">
                                                <span>Correo Argentino Regional - Envío a domicilio</span>
                                                <span style="font-size: 1.2em; color: black;">$5800</span>
                                            </label>
                                        </div>
                                        <p class="bi-geo-alt-fill" style="margin-top: 5%;">Retiro por local</p>
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="opcion4" name="entrega" value="otraOpcion1">
                                            <label class="form-check-label d-flex justify-content-between" for="opcion4">
                                                <span>Retiro en nuestro local</span>
                                                     <span style="font-size: 1.2em; color: black;">GRATIS</span>
                                            </label>
                                        </div>
                                        <p class="bi-geo-alt-fill" style="margin-top: 5%;">Envios dentro de Corrientes Capital</p>
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="opcion5" name="entrega" value="Consultar precio por Whatsapp">
                                            <label class="form-check-label d-flex justify-content-between" for="opcion5">
                                                <span>Envio por moto</span>
                                              <span style="font-size: 1.2em; color: black; margin-top: 10px;"><a class="btn btn-success" href="https://wa.link/nnxn4b">Consultar precio por Whatsapp</a> </span>
                                                                    
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                            `;
                            const opcionesEntregaOtras = `
                                <div class="opciones-entrega-otras opciones-entrega">
                                    <div style="padding-right: 5%;">
                                        <h2 style="text-align: center; margin-top: 4%; font-weight: 700;">Entrega</h2>
                                        <p class="bi-geo-alt-fill">Envío a domicilio</p>
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="opcion3Otras" name="entrega" value="7,800">
                                            <label class="form-check-label d-flex justify-content-between" for="opcion3Otras">
                                                <span>Correo Argentino Nacional - Envío a domicilio</span>
                                                <span style="font-size: 1.2em; color: black;">$7800</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                            `;
                            const opcionesEntregaChaco = `
                                <div class="opciones-entrega-otras opciones-entrega">
                                    <div style="padding-right: 5%;">
                                        <h2 style="text-align: center; margin-top: 4%; font-weight: 700;">Entrega</h2>
                                        <p class="bi-geo-alt-fill">Envío a domicilio</p>
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="opcion3Corrientes" name="entrega" value="7,800">
                                            <label class="form-check-label d-flex justify-content-between" for="opcion3Corrientes">
                                                <span>Correo Argentino Nacional - Envío a domicilio</span>
                                                <span style="font-size: 1.2em; color: black;">$7800</span>
                                            </label>
                                        </div>
                                        <div class="form-check">
                                            <input type="radio" class="form-check-input" id="opcion4Corrientes" name="entrega" value="2,500">
                                            <label class="form-check-label d-flex justify-content-between" for="opcion4Corrientes">
                                                <span>Envio unicamente a Resistencia (Envios todos los lunes)</span>
                                                <span style="font-size: 1.2em; color: black;">$2500</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <hr>
                            `;

                            provinciaSelect.addEventListener('change', actualizarOpcionesEntrega);
                            opcionesEntrega.addEventListener('change', actualizarEnvio);

                          function actualizarOpcionesEntrega() {
                                const selectedProvince = provinciaSelect.value;

                              if (selectedProvince === 'Corrientes') {
                                  opcionesEntrega.innerHTML = opcionesEntregaCorrientes;
                              } else if (selectedProvince === 'Chaco') {
                                  opcionesEntrega.innerHTML = opcionesEntregaChaco;
                              } else {
                                  opcionesEntrega.innerHTML = opcionesEntregaOtras;
                              }
                          }

                                function actualizarEnvio() {
                                        const opcionEnvio = document.querySelector('input[name="entrega"]:checked');
                                        const envioSeleccionado = document.querySelector('#envioDisplay');
                                        const subtotalDisplay = document.getElementById('subtotalDisplay');
                                        const totalDisplay = document.getElementById('totalDisplay');

                                        totalDisplay.textContent = '$0.00';

                                        if (opcionEnvio) {
                                            const precioEnvio = opcionEnvio.value;

                                            if (precioEnvio === 'Consultar precio por Whatsapp') {
                                                envioSeleccionado.textContent = 'Consultar precio por Whatsapp';
                                            } else if (precioEnvio === 'otraOpcion1') {
                                                envioSeleccionado.textContent = 'GRATIS';
                                            } else {
                                                envioSeleccionado.textContent = `$${precioEnvio}`;
                                            }
                                        }

                                        const subtotal = parseFloat(subtotalDisplay.textContent.replace('$', '').replace(/,/g, '')); // Elimina el signo $ y las comas
                                        let envio = 0;

                                        if (envioSeleccionado.textContent.includes('$')) {
                                            envio = parseFloat(envioSeleccionado.textContent.replace('$', '').replace(/,/g, ''));
                                        } else if (envioSeleccionado.textContent === 'Consultar precio por Whatsapp' || envioSeleccionado.textContent === 'GRATIS') {
                                            envio = 0;
                                        }

                                        const total = subtotal + envio;
                                        totalDisplay.textContent = `$${total.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}`;
                                                                            }

                                    provinciaSelect.addEventListener('change', function () {
                                            const opcionEnvio = document.querySelector('input[name="entrega"]:checked');
                                            const envioSeleccionado = document.querySelector('#envioDisplay');
                                            const totalDisplay = document.getElementById('totalDisplay');
                                            totalDisplay.textContent = '$0.00';
                                            envioSeleccionado.textContent = '0.00';

                                        if (opcionEnvio) {
                                            const precioEnvio = opcionEnvio.value;

                                            if (precioEnvio === "otraOpcion1") {
                                                envioSeleccionado.textContent = 'GRATIS';
                                            } else {
                                                envioSeleccionado.textContent = precioEnvio;
                                            }
                                        }

                                        const selectedProvince = this.value;
                                        const cities = provinciasConCiudades[selectedProvince] || [];
                                        const ciudadSelect = document.getElementById('ciudad');
                                        ciudadSelect.innerHTML = '';

                                        cities.forEach(function (ciudad) {
                                            const option = document.createElement('option');
                                            option.text = ciudad;
                                            ciudadSelect.add(option);
                                        });

                                        if (selectedProvince === "Corrientes") {
                                            opcionesEntrega.innerHTML = opcionesEntregaCorrientes;
                                        } else if (selectedProvince === 'Chaco') {
                                            opcionesEntrega.innerHTML = opcionesEntregaChaco;
                                        } else {
                                            opcionesEntrega.innerHTML = opcionesEntregaOtras;
                                        }

                                        if (selectedProvince !== "") {
                                            opcionesEntrega.style.display = 'block';
                                        } else {
                                            opcionesEntrega.style.display = 'none';
                                        }
                                    });

                    </script>

                    <script>
                        // Función para calcular el total y guardar en localStorage
                        function calcularTotal() {
                            const subtotal = parseFloat(document.getElementById('subtotalDisplay').innerText);
                            const envio = parseFloat(document.getElementById('envioDisplay').innerText);

                            const total = subtotal + envio;

                            // Guardar el total en el localStorage
                            localStorage.setItem('total', total.toFixed(2));

                            // Actualizar el valor en el span
                            document.getElementById('totalDisplay').innerText = total.toFixed(2);

                            // Confirmar que se ha guardado en el localStorage
                            const valorGuardado = localStorage.getItem('total');
                            console.log('Valor guardado en localStorage:', valorGuardado);
                        }

                        // Llamar a la función para calcular el total al cargar la página
                        window.onload = calcularTotal;
                    </script>

                    <!-- CODIGO PARA BLOQUEAR EL BOTON DE PAGO HASTA NO HACER CLICK EN ALGUN ENVIO-->
                    <script>
                        // Selecciona el elemento que contiene el valor del envío
                        const envioDisplay = document.getElementById('envioDisplay');
                        const checkoutBtn = document.getElementById('checkout-btn');

                        // Función para habilitar o deshabilitar el botón según el valor del envío
                        function toggleCheckoutButton() {
                            // Obtén el valor actual del envío
                            const envioValue = parseFloat(envioDisplay.innerText);

                            // Habilita el botón si el valor del envío no es igual a 0.00, de lo contrario, deshabilítalo
                            checkoutBtn.disabled = (envioValue === 0.00);
                        }

                        // Ejecuta la función al cargar la página y cuando cambie el valor del envío
                        toggleCheckoutButton(); // Verificar inicialmente el estado del botón al cargar la página
                        envioDisplay.addEventListener('DOMSubtreeModified', toggleCheckoutButton); // Verificar cuando cambie el valor del envío
                    </script>

                    <input type="hidden" name="_next" value="http://127.0.0.1:5500/">
                    <input type="hidden" name="_captcha" value="false">

                    <textarea placeholder="Your Message" class="form-control" name="productosAgregados" rows="10" style="display: none;"
                        id="producto-carrito"></textarea>
                </form>
            </div>
        </div>
    </div>

    <style>
        /* Estilos para las etiquetas <p> específicas */
        .opciones-entrega p {
            font-size: 1.2em;
            /* Tamaño del texto */
            color: #000;
            /* Color del texto */
        }
    
        /* Media query para pantallas menores a 850px */
        @media screen and (max-width: 850px) {
    
            .opciones-entrega p.bi-geo-alt-fill,
            .opciones-entrega p:nth-of-type(4),
            .opciones-entrega p:nth-of-type(6) {
                font-size: 1.4em;
                /* Tamaño de texto más grande */
                color: #000;
                /* Color de texto negro */
            }
    
            .form-check-label {
                flex-direction: column;
                /* Cambia la dirección del flex a columna */
                align-items: flex-start;
                /* Alinea los elementos a la izquierda */
            }
    
            .form-check-label span {
                margin-bottom: 5px;
                /* Añade un margen inferior entre los elementos */
            }
        }
    </style>

    <script>
        function actualizarSubtotal() {
                const totalAmountElement = document.getElementById('totalAmount');
                const subtotalDisplay = document.getElementById('subtotalDisplay');
                const totalDisplay = document.getElementById('totalDisplay');

                if (totalAmountElement && subtotalDisplay && totalDisplay) {
                    const subtotal = parseFloat(subtotalDisplay.textContent.replace('$', '').replace(/,/g, ''));
                    const envio = obtenerPrecioEnvio();

                    let total = subtotal + envio;

                    subtotalDisplay.textContent = `$${subtotal.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}`;
                    totalDisplay.textContent = `$${total.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}`;

                    // Guardar el subtotal y el total en el localStorage
                    localStorage.setItem('subtotal', subtotal.toFixed(2));
                    localStorage.setItem('total', total.toFixed(2));
                }
            }

      // Esta función calcula el total y lo actualiza en el HTML y el localStorage
        function actualizarTotal() {
                const subtotalDisplay = document.getElementById('subtotalDisplay');
                const totalDisplay = document.getElementById('totalDisplay');

                const subtotal = parseFloat(subtotalDisplay.textContent.replace('$', '').replace(/,/g, ''));
                const envio = obtenerPrecioEnvio();

                let total = subtotal + envio;

                totalDisplay.textContent = `$${total.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}`;

                // Guardar el total en el localStorage
                localStorage.setItem('total', total.toFixed(2));
            }

        // Esta función obtiene el precio de envío, considerando palabras como cero
        function obtenerPrecioEnvio() {
                const envioSeleccionado = document.querySelector('#envioDisplay');
                let envio = 0;

                if (envioSeleccionado.textContent.includes('$')) {
                    envio = parseFloat(envioSeleccionado.textContent.replace('$', '').replace(/,/g, ''));
                }

                return envio;
            }

        // Event listener para cambios en opciones de envío
        opcionesEntrega.addEventListener('change', function () {
            // Actualizar el total cuando cambie la opción de envío
            actualizarTotal();
        });

        // Llamamos a actualizarTotal al cargar la página para tener el valor inicial
        window.onload = function () {
            actualizarTotal();
        };
    </script>
    
    <script>
      document.addEventListener("DOMContentLoaded", function () {
            document.getElementById("checkout-btn").addEventListener("click", function () {
                // Obtener el precio total almacenado en el localStorage
                const totalPrice = parseFloat(localStorage.getItem('total'));

                if (!isNaN(totalPrice)) { // Verificar si el precio es un número válido
                    const orderData = {
                        quantity: 1,
                        description: "Total",
                        price: totalPrice, // Utilizar el precio almacenado en el localStorage
                    };

                    fetch("http://localhost:8080/create_preference", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json",
                        },
                        body: JSON.stringify(orderData),
                    })
                        .then(function (response) {
                            return response.json();
                        })
                        .then(function (init_point) {
                            // Redirigir a la página de Mercado Pago usando el init_point
                            window.location.href = init_point["id"];
                            console.log(init_point["id"]);
                        })
                        .catch(function () {
                            alert("Error inesperado");
                            $('#checkout-btn').attr("disabled", false);
                        });
                } else {
                    alert("El precio total no es válido");
                }
            });
        });

    </script>

    <section class="container" style="display: none;">
        <div class="row row-cols-md-4 row-cols-sm-2 g-4" id="product-list"></div>
    </section>

    <footer class=" footer">
        <div class="row">
            <!-- Primera columna con botones -->
            <div class="col-sm-6 col-md-3 footerDiv">
                <h3>Navegación</h3>
                <ul class="list-unstyled">

                    <li><a href="index.html"> INICIO</a></li>
                    <li>
                        <a class=" dropdown-toggle text-uppercase" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                            Contacto
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="https://www.instagram.com/suspicacias.s3xshop/">Instagram
                                    <i class="bi bi-instagram"></i></a></li>
                            <li><a class="dropdown-item"
                                    href="https://www.facebook.com/profile.php?id=100093064702085">Facebook <i
                                        class="bi bi-facebook"></i></a></li>
                            <li><a class="dropdown-item" href="https://wa.link/rgb5ni">Whatsapp <i
                                        class="bi bi-whatsapp"></i></a></li>
                        </ul>
                    </li>
                    <li><a href="ventaMayorista.html">MAYORISTA</a></li>
                </ul>
            </div>

            <!-- Segunda columna con métodos de pago e imágenes -->
            <div class="col-sm-6 col-md-3 footerDiv ">
                <h3>Métodos de Pago</h3>
                <div>
                    <img src="/metodos de pago/MASTERCARD.png" alt="Métodos de pago" class="img-fluid" width="50"
                        height="50">
                    <img src="/metodos de pago/VISA.png" alt="Métodos de pago" class="img-fluid" width="50" height="50">
                    <img src="/metodos de pago/MAESTRO.png" alt="Métodos de pago" class="img-fluid" width="50"
                        height="50">
                    <img src="/metodos de pago/PAGOFACIL.png" alt="Métodos de pago" class="img-fluid" width="50"
                        height="50">
                    <img src="/metodos de pago/RAPIPAGO.png" alt="Métodos de pago" class="img-fluid" width="50"
                        height="50">

                </div>
            </div>

            <!-- Tercera columna con contacto -->
            <div class="col-sm-6 col-md-3 footerDiv ">
                <h3>Contactanos</h3>
                <p>
                    Puedes contactarnos a través de:
                    <br>
                    <i class="bi bi-envelope-at"></i>
                    <a href="mailto:suspicaciasbrasil805@gmail.com">suspicaciasbrasil805@gmail.com</a>
                    <br>
                    <i class="bi bi-telephone"></i><a href="https://wa.link/rgb5ni">+54 9 3794015905</a>
                    <br>
                    <i class="bi bi-geo-alt"></i> <a href="https://maps.app.goo.gl/kcfBd1eEXaAFUogn7">Brasil
                        805, Corrientes Capital</a>
                    <br>
                    <i class="bi bi-clock"></i>
                    Lunes a Sabado:
                    <br>
                    08am a 14pm y de 17pm a 23pm
                </p>

            </div>

            <!-- Cuarta columna con redes sociales -->
            <div class="col-sm-6 col-md-3 footerDiv ">
                <h3>Redes Sociales</h3>
                <ul class="list-inline">
                    <li class="list-inline-item"><a href="https://www.facebook.com/profile.php?id=100093064702085"><img
                                src="/img/logos redes/facebook.png" alt="Facebook" class="img-fluid" width="50"
                                height="50"></a></li>
                    <li class="list-inline-item"><a href="https://www.instagram.com/suspicacias.s3xshop/"><img
                                src="img/logos redes/insta.png" alt="instagram" class="img-fluid" width="50"
                                height="50"></a></li>
                    <!-- Agrega más iconos y enlaces a redes sociales si es necesario -->
                </ul>
            </div>
            <p style="margin-top: 0%; margin-bottom: 0%;">© 2023 Suspiciacias Sex Shop. Todos los derechos
                reservados.</p>
            <p style="margin-top: 0%; margin-bottom: 1%;">El contenido de este sitio web está protegido por derechos
                de autor.
                Prohibida su reproducción sin
                permiso.</p>
        </div>
    </footer>

    <div id="load-more-button" style="display: none;"></div>
    <div id="product-details" style="display: none;"></div>
    <div id="cargarMasBoton" style="display: none;"></div>
    <div id="product-lista" style="display: none;"></div>

    <a class="float-wa" href="https://wa.link/rgb5ni"><i class="bi bi-whatsapp"></i></a>

    <script src="json.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</body>

</html>